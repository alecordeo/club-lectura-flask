{% extends "base.html" %}

{% block title %}Iniciar sesiÃ³n - Club de Lectura{% endblock %}

{% block content %}
<div class="auth-card">

    <h2>Bienvenido de nuevo</h2>
    <p>Ingresa tus credenciales para continuar</p>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert {{ category }}">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST">

        <label for="username">Usuario</label>
        <input
            type="text"
            name="username"
            id="username"
            placeholder="Ingresa tu usuario"
            required
            autocomplete="username"
        >

        <label for="password">ContraseÃ±a</label>
        <div class="password-field">
            <input
                type="password"
                name="password"
                id="password"
                placeholder="Ingresa tu contraseÃ±a"
                required
                autocomplete="current-password"
            >
            <span class="toggle-password" onclick="togglePassword()">ğŸ‘ï¸</span>
        </div>

        <button type="submit" class="btn btn-primary">Iniciar sesiÃ³n</button>
    </form>

    <div style="text-align: center; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--color-border);">
        <p style="color: var(--color-text-light); font-size: 0.9rem;">
            Â¿No tienes una cuenta? 
            <a href="/register" style="color: var(--color-primary); text-decoration: none; font-weight: 600;">RegÃ­strate aquÃ­</a>
        </p>
    </div>

</div>

<script>
function togglePassword() {
    const input = document.getElementById("password");
    const toggle = document.querySelector(".toggle-password");
    
    if (input.type === "password") {
        input.type = "text";
        toggle.textContent = "ğŸ™ˆ";
    } else {
        input.type = "password";
        toggle.textContent = "ğŸ‘ï¸";
    }
}
</script>
{% endblock %}