{% extends "base.html" %}

{% block content %}
<h2>Registro de usuario</h2>

{# =========================
   MENSAJES FLASH
   ========================= #}
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="{{ category }}">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}

<form method="POST">
    <input
        type="text"
        name="username"
        placeholder="Usuario"
        required
    >

    <input
        type="email"
        name="email"
        placeholder="Correo"
        required
    >

    <input
    type="text"
    name="nombre"
    placeholder="Nombre completo"
    required
    >

    <select name="club" required>
        <option value="">Selecciona un club</option>
        {% for club in clubes %}
            <option value="{{ club.id }}">{{ club.nombre }}</option>
        {% endfor %}
    </select>

    <div class="password-field">
        <input
            type="password"
            name="password"
            id="password"
            placeholder="Contrase√±a"
            required
        >
        <span class="toggle-password" onclick="togglePassword()">üëÅÔ∏è</span>
    </div>

    <button type="submit" class="btn btn-primary">Registrarse</button>
</form>

<script>
function togglePassword() {
    const passwordInput = document.getElementById("password");
    passwordInput.type =
        passwordInput.type === "password" ? "text" : "password";
}
</script>
{% endblock %}
